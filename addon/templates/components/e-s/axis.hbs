{{#with (e-s/axis-options position width height x-translate y-translate) as |options|}}
{{#with (e-s/axis-helper scale
  position=position
  ticks=ticks
  width=width
  height=height
  tickFormat=tick-format
  skipIdx=responsiveSkipIdx
  xGrid=xGrid
  yGrid=yGrid
  tickSizeOuter=tickSizeOuter
  tickValues=tickValues
  tickPadding=tickPadding

  gridlines=gridlines
  gridLength=(get options 'gridLength')

  ) as |axis|}}

  {{#d3-graph classNames=(union classNames (array class)) as |d3|}}

    {{d3.graph (pipe
      (d3-append 'g')
      (d3-attr 'class' 'axis')
    )}}

    {{d3.graph (pipe
      (d3-select-all '.axis')
      (if with-transition (d3-transition transition) (d3-noop))
      (d3-attr 'transform' (get options 'translate'))
      (d3-call axis)
    )}}

    {{#if label}}
      {{d3.graph (pipe
        (d3-append 'text')
        (d3-attr 'class' 'label')
      )}}

      {{d3.graph (pipe
        (d3-select-all '.label')
        (d3-attr 'dy' (or dy 0))
        (d3-attr 'dx' (or dx 0))
        (d3-call (or label-attrs (d3-noop)))
        (d3-call (or label-transform (d3-noop)))
        (d3-style 'text-anchor' 'end')
        (d3-text label)
      )}}
    {{/if}}

  {{/d3-graph}}

{{/with}}
{{/with}}
