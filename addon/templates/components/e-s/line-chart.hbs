{{#d3-graph classNames="ember-sparkles--line-chart" as |d3|}}

  {{d3.graph (pipe
    (d3-select-all '.line')
    (d3-data data)
    (d3-join
      enter=(pipe
        (d3-append 'path')
        (d3-attr 'class' 'line')
        (d3-attr 'd' (pipe
          (r/get 'data')
          (e-s/line xScale yScale xAccessor=inputKey yAccessor=outputKey)
        ))

        (d3-style 'stroke' (get styles 'stroke'))
        (d3-style 'fill' 'none')
        (d3-style 'stroke-width' (get styles 'stroke-width'))
      )

      update=(pipe
        (if with-transition (d3-transition transition) (d3-noop))
        (d3-attr 'class' 'line')
        (d3-attr 'd' (pipe
          (r/get 'data')
          (e-s/line xScale yScale xAccessor=inputKey yAccessor=outputKey)
        ))
        (d3-style 'stroke' (get styles 'stroke'))
      )

      exit=(pipe
        (if with-transition (d3-transition transition) (d3-noop))
        (d3-style 'opacity' 0)
        (d3-remove)
      )
  ))}}

{{/d3-graph}}
